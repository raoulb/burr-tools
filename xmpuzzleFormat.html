<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BurrTools: The xmpuzzle format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BurrTools<span id="projectnumber">&#160;0.6.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">The xmpuzzle format</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>I will try to explain some of the features of the xmpuzzle file format.</p>
<p>But please keep in mind that this will only be a starting point and if you need more details please look at the code.</p>
<p>The xmpuzzle format is an xml file containing all information regarding a puzzle. It is recursively structured just like the different components are structured in the library. I will try to explain the components bottom up instead of top down.</p>
<p>Let's start with one of the base structures of the library: the voxel space. Voxel spaces are stored in voxel nodes. Those nodes need to contain x, y and z attributed with the size in the corresponding direction, also always available must be the type attribute, which currently has no meaning and is always 0. It is intended for future different ways to save a voxel space, and will probably never be used.</p>
<p>Optional attributes are the weight and the name.</p>
<p>The content of the voxel space node is the description of what the voxel space looks like. There must be content for each voxel in the space, so no shortcuts are possible. There are mainly 3 characters: "_" for empty voxels, "+" for variable voxels and "#" for fixed voxels. The filled voxels may additionally have a colour appended. This colour information is simply put behind the voxel information, so #1 stands for a voxel with colour 1. The colour is save din decimal form.</p>
<p>The gridtype is a basic class in the library and saved simply by adding a gridtype node with an attribute type. The type is a number corresponding with the grid.</p>
<p>Assemblies are saved by simply listing the positions of all involved pieces. These positions are made up of the orientation and the place, where the hotspot of that piece is inside the solution. If a piece is not used within an assembly a single x is used to show that fact.</p>
<p>Orientations in this class are gridtype dependent and simply numbers, where 0 means original orientation and all other numbers some transformation. The transformation matrixes for the orientations are defined in the tabs_x subdirectories.</p>
<p>The assembly itself is now a node with a text content and that text content contains the list of number.</p>
<p>The disassembly is saved as a recursive structure of nodes. Each instance contains a list of states that describe how to separate the current puzzle into 2 parts. Then the same structure follows to explain how those 2 parts can be disassembled.</p>
<p>The first thing is a list of pieces involved in the current disassembly instruction. That list is normally the complete list of pieces for the root separation instruction but contains subsets of those for the sub structures.</p>
<p>The list first contains a number of pieces followed by the pieces as a text with numbers</p>
<p>Now come the states. Each state contains the positions that all the pieces have at a certain step. The states do contain 3 subnodes with the x, y and z coordinates of all pieces</p>
<p>At last 2 nodes follow with the sub-separation instructions</p>
<p>Ok, I think that that explains the main complicated structures of the file. The rest is simple xml stuff with absolutely no magic. If you don't understand some of it have a look at the source. Normally is is quite simple to find out where the information is loaded as all sub information is placed on the same level. So for example bitmap node is within the problem node, so have a look in the problem loader, find the bitmap case and then you find the subclass or code that loads that part. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
